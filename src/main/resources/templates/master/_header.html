<!-- Header Fragment -->
<div th:fragment="header">
  <nav class="navbar navbar-expand-lg navbar-light bg-light custom-navbar">
    <!-- Logo + brand -->
    <div class="container">
      <div class="d-flex align-items-center">
        <img
          id="avatarHeader"
          src="/img/OIP.jpg"
          alt="Avatar"
          width="40"
          height="40"
          class="rounded-circle me-2 border"
          style="object-fit: cover"
        />
        <a class="navbar-brand" href="/">Vaccines for children</a>
      </div>

      <!-- Toggle menu cho mobile -->
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navbar bÃªn trong -->
      <div
        class="collapse navbar-collapse justify-content-between"
        id="navbarNav"
      >
        <!-- NhÃ³m menu bÃªn trÃ¡i -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" th:href="@{/about}">â„¹ï¸ Giá»›i thiá»‡u</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/services}">â˜ Dá»‹ch vá»¥</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/vaccine-list}"
              >ğŸ“– Danh sÃ¡ch vaccine</a
            >
          </li>
          <li class="nav-item" sec:authorize="isAuthenticated()">
            <a class="nav-link" th:href="@{/appointments}"
              >Äáº·t lá»‹ch tiÃªm vaccine</a
            >
          </li>
        </ul>

        <!-- NhÃ³m bÃªn pháº£i -->
        <ul class="navbar-nav d-flex align-items-center">
          <li class="nav-item">
            <button id="darkModeToggle" class="btn btn-link nav-link">
              ğŸŒ™
            </button>
          </li>

          <!-- ChÆ°a Ä‘Äƒng nháº­p -->
          <li class="nav-item" sec:authorize="isAnonymous()">
            <a
              class="btn btn-primary mx-1"
              th:href="@{/auth/login}"
              role="button"
              >ÄÄƒng nháº­p</a
            >
          </li>
          <li class="nav-item" sec:authorize="isAnonymous()">
            <a
              class="btn btn-success mx-1"
              th:href="@{/auth/register}"
              role="button"
              >ÄÄƒng kÃ½</a
            >
          </li>

          <!-- ÄÃ£ Ä‘Äƒng nháº­p -->
          <li
            class="nav-item dropdown"
            id="avatarDropdown"
            sec:authorize="isAuthenticated()"
          >
            <a
              class="nav-link dropdown-toggle d-flex align-items-center"
              href="#"
              role="button"
              data-toggle="dropdown"
              aria-expanded="false"
            >
              <img
                id="navbarAvatar"
                alt="Avatar"
                class="rounded-circle me-2"
                width="32"
                height="32"
              />
            </a>
            <div class="dropdown-menu dropdown-menu-end">
              <a class="dropdown-item" th:href="@{/auth/profile}">â„¹ï¸ Profile</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" th:href="@{/payments/history}"
                >ğŸ’° Lá»‹ch sá»­ thanh toÃ¡n</a
              >
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="/auth/change-password"
                  ><i class="bi bi-key"></i> Äá»•i máº­t kháº©u</a
              >
              <div class="dropdown-divider"></div>
              <form th:action="@{/auth/logout}" method="post">
                <button type="submit" class="dropdown-item">
                  ğŸšª ÄÄƒng xuáº¥t
                </button>
              </form>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</div>
